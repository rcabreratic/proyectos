<!DOCTYPE html>
<html lang="es" xml:lang="es" xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<title>B.1.2.- Diseño de la pantalla de preferencias II | Creación de una aplicación móvil </title>
<meta name="author" content="José Luis Camuñas Taguas" />
<link rel="license" type="text/html" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" />
<meta name="generator" content="eXeLearning 2.7 - exelearning.net" />
<link rel="stylesheet" type="text/css" href="base.css" />
<link rel="stylesheet" type="text/css" href="content.css" />
<!--[if lt IE 9]><script type="text/javascript" src="exe_html5.js"></script><![endif]-->
<script type="text/javascript" src="exe_jquery.js"></script>
<script type="text/javascript" src="common_i18n.js"></script>
<script type="text/javascript" src="common.js"></script>
<script type="text/javascript" src="SCORM_API_wrapper.js"></script>
<script type="text/javascript" src="SCOFunctions.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" /></head>
<body id="exe-node-101" class="exe-scorm" onunload="unloadPage()"><script type="text/javascript">document.body.className+=" js";jQuery(function(){loadPage()})</script>
<div id="outer">
<section id="main">
<header id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">B.1.2.- Diseño de la pantalla de preferencias II</h1></div></header>
<article class="iDevice_wrapper FreeTextfpdIdevice" id="id456">
<div class="iDevice emphasis0">
<div id="ta456_69" class="block iDevice_content">
<p>En este segundo apartado vamos a implementar una segunda categoría llamada <strong>"Opciones del juego"</strong> donde veremos cómo implementar una preferencia que muestra una lista de opciones. Estas preferencias deben tener dos atributos<code> android:entries</code> que contiene el texto de los elementos de la lista y <code>android:entryValues</code> que define los valores asociados con cada elemento de la lista.</p>
<p>Los valores de ambos atributos se deben definir como <span lang="en"><code>&lt;string-array&gt;</code></span>, y se crea un fichero <acronym title="eXtensible Markup Language" lang="en">XML</acronym> llamado <code>/res/values/arrays.xml</code> para ello:</p>
<div class="elemento_centrado"><a title="Ampliar imagen para:  mostrar la declaración de dos arrays de tipo String. (Se abre en una nueva ventana)." href="fichero_array.1.png" target="_blank"><img src="fichero_array.1.png" alt="Captura pantalla de cómo crear dos arrays de tipo String. En el panel Android, aparece seleccionado el archivo arrays.xml, en la  ruta app/res/values/arrays.xml  y el archivo settings.xml en la ruta app/res/xml/settings.xml.  Ambos archivos están abiertos en el área de trabajo, estando visible la pestaña correspondiente a arrays.xml" title="Crear dos arrays de tipo String." class="imagen_ampliable" width="500" height="262" /></a></div>
<div class="elemento_centrado credenciales">Captura del <acronym title="Integrated Development Environment" lang="en">IDE</acronym> <span lang="en">Android Studio.</span> <a title="Acceder a la información sobre licencia Apache en Wikipedia. (Se abre en una nueva ventana)." href="https://es.wikipedia.org/wiki/Apache_License" target="_blank">Apache 2.0</a></div>
<p></p>
<p>Una vez definido los atributos, veamos qué tipos de preferencias se pueden crear:</p>
<ul class="lista_verificacion">
<li><code>DropDownPreference:</code> muestra un despegable de opciones.</li>
<li><code>ListPreference</code>: lista de opciones donde el usuario sólo puede seleccionar una de ellas. Con esta preferencia si se puede usar <code>app:useSimpleSummaryProvider</code><span> para que en el resumen aparezca la opción que se ha seleccionado.</span>
<div class="codigo elemento_centrado" style="width: 34.05em;">
<div class="texto_izquierda">
<pre><code>&lt;ListPreference</code></pre>
<pre><code> android:defaultValue="1"</code></pre>
<pre><code> android:dialogTitle="@string/dialog_title_level"</code></pre>
<pre><code> android:entries="@array/level_game_entries"</code></pre>
<pre><code> android:entryValues="@array/level_game_entry_values"</code></pre>
<pre><code> android:key="</code>preference_level<code>"</code></pre>
<pre><code> android:title="@string/preference_level"</code></pre>
<pre><code> app:useSimpleSummaryProvider="true" /&gt;</code></pre>
</div>
</div>
</li>
<li><code>MultiSelectListPreference</code>: lista de opciones donde el usuario puede seleccionar más de una. Con esta preferencia se guardará un <span lang="en">array</span> con todas las opciones. En este caso no se puede utilizar el atributo <code>app:useSimpleSummaryProvider</code>.
<div class="codigo elemento_centrado" style="width: 34.05em;">
<div class="texto_izquierda">
<pre><code> &lt;MultiSelectListPreference</code></pre>
<pre><span>  android</span><span>:key</span><span>="preference_options_key"<br /></span><span>  android</span><span>:title</span><span>="@string/preference_options"<br /></span><span>  android</span><span>:summary</span><span>="@string/preference_options_summary"<br /></span><span>  android</span><span>:entries</span><span>="@array/options_entries"<br /></span><span>  android</span><span>:entryValues</span><span>="@array/options_entry_values"<br /></span><span>  android</span><span>:dialogTitle</span><span>="@string/dialog_title_options"</span>/&gt;</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</article>
<article class="iDevice_wrapper VerdaderofalsofpdIdevice em_iDevice em_iDevice_autoevaluacionfpd" id="id457">
<div class="iDevice emphasis_autoevaluacionfpd" >
<header class="iDevice_header" style="background-image:url(icon_autoevaluacionfpd.gif)"><h1 class="iDeviceTitle">Autoevaluación</h1></header>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta457_135" class="block iDevice_content">

</div>
<section class="question">
<form name="true-false-form-0b457" action="#" class="activity-form">
<h1 class="js-sr-av">Pregunta 1</h1>
<div id="taquestion0b457" class="block iDevice_content">
<p><strong>En una preferencia <code>MultiSelectListPreference</code><span lang="en"> </span>se puede usar el atributo <code>app:useSimpleSummaryProvider</code> de forma que se actualice el resumen de la preferencia al valor seleccionado por el usuario</strong></p>
</div>
<p class="iDevice_answer js-required">
<label for="true0b457"><input type="radio" name="option0b457" id="true0b457" class="exe-radio-option exe-radio-option-0-2-0b457-truefalse" /> Verdadero</label> 
<label for="false0b457"><input type="radio" name="option0b457" id="false0b457" class="exe-radio-option exe-radio-option-1-2-0b457-truefalse" /> Falso</label>
</p>
</form>
<section id="s0b457" class="feedback js-feedback js-hidden">
<h1 class="js-sr-av">Retroalimentación</h1>
<p><strong id="s0b457-result" class="wrong">Falso</strong></p>
<p>La preferencia <span lang="en"><code>MultiSelectListPreference</code></span> no admite el atributo <code>app:useSimpleSummaryProvider </code>porque el usuario puede seleccionar más de un valor. Para actualizar el valor resumen se tendría que hacer mediante código.</p>
</section>
</section>
</div>
</div>
</div>
</article>
</section>
<div id="packageLicense" class="cc cc-by-nc-sa">
<p><span>Obra publicada con</span> <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">Licencia Creative Commons Reconocimiento No comercial Compartir igual 4.0</a></p>
</div>
</div>
<script type="text/javascript" src="_fpd_js.js"></script></body></html>