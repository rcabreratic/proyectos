<!DOCTYPE html>
<html lang="es" xml:lang="es" xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<title>A.2.- Los Layouts de Android | Creación de una aplicación móvil </title>
<meta name="author" content="José Luis Camuñas Taguas" />
<link rel="license" type="text/html" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" />
<meta name="generator" content="eXeLearning 2.7 - exelearning.net" />
<link rel="stylesheet" type="text/css" href="base.css" />
<link rel="stylesheet" type="text/css" href="content.css" />
<!--[if lt IE 9]><script type="text/javascript" src="exe_html5.js"></script><![endif]-->
<script type="text/javascript" src="exe_jquery.js"></script>
<script type="text/javascript" src="common_i18n.js"></script>
<script type="text/javascript" src="common.js"></script>
<script type="text/javascript" src="SCORM_API_wrapper.js"></script>
<script type="text/javascript" src="SCOFunctions.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" /></head>
<body id="exe-node-55" class="exe-scorm" onunload="unloadPage()"><script type="text/javascript">document.body.className+=" js";jQuery(function(){loadPage()})</script>
<div id="outer">
<section id="main">
<header id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">A.2.- Los Layouts de Android</h1></div></header>
<article class="iDevice_wrapper FreeTextfpdIdevice" id="id362">
<div class="iDevice emphasis0">
<div id="ta362_69" class="block iDevice_content">
<p>Para el desarrollo de cualquier interfaz de usuario, <span lang="en">Android</span> utiliza la clase <code>View</code> y<code> ViewGroup</code> que hereda de la clase anterior <code>View</code>. Los objetos <code>ViewGroup</code> también son conocidos como <strong><span lang="en">Layout</span></strong>. Un objeto <code>View</code> es aquel que dibuja algo en la pantalla con el que el usuario va a interactuar (botón, caja de texto, imagen, <abbr title="etcétera.">etc.</abbr>) Un <code>ViewGroup</code> o<strong> <span lang="en">Layout</span></strong> es un objeto que contiene los objetos de tipo <code>View</code> de nuestra pantalla. También es posible que un <strong><span lang="en">Layout</span> </strong>contenga otro objeto <strong><span lang="en">Layout</span> </strong>.</p>
<p>Para declarar el <strong><span lang="en">Layout</span> </strong> se puede instanciar objetos de tipo <code>View</code> mediante código, pero la forma más fácil y efectiva es hacerlo con un fichero <acronym title="eXtender Markup Language." lang="en">XML</acronym> ya que ofrecen una estructura legible parecida a un <acronym title="Hyper Text Markup Language." lang="en">HTML</acronym>.</p>
<p>Aquí tienes un ejemplo de un fichero <acronym title="eXtender Markup Language." lang="en">XML</acronym> que define un objeto de tipo <strong><span lang="en">Layout </span></strong>que contiene a su vez dos objetos de tipo <code>View </code>(un <code>TextView</code> y un <code>Button</code>).</p>
<div class="codigo elemento_centrado" style="width: 47.25em;">
<div class="texto_izquierda">
<pre><code>&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"</code></pre>
<pre><code>          android:layout_width="fill_parent" </code></pre>
<pre><code>          android:layout_height="fill_parent"</code></pre>
<pre><code>          android:orientation="vertical" &gt;</code></pre>
<pre><code>     &lt;TextView android:id="@+id/text"</code></pre>
<pre><code>          android:layout_width="wrap_content"</code></pre>
<pre><code>          android:layout_height="wrap_content"</code></pre>
<pre><code>          android:text="Esto es un objeto de tipo TextView" /&gt;</code></pre>
<pre><code>     &lt;Button android:id="@+id/button"</code></pre>
<pre><code>          android:layout_width="wrap_content"</code></pre>
<pre><code>          android:layout_height="wrap_content"</code></pre>
<pre><code>          android:text="Botón" /&gt;</code></pre>
<pre><code>&lt;/LinearLayout&gt;</code></pre>
</div>
</div>
<p></p>
<p>Como puedes comprobar se trata de una jerarquía de vistas donde <code>LinearLayout</code> es el nodo raíz. A la hora de definir una interfaz hay que evitar crear anidamientos, es decir, que la jerarquía de vistas tenga varios niveles. Cuando se muestra una interfaz el sistema operativo le pide al nodo raíz las siguientes operaciones:</p>
<ol>
<li>Que indique su tamaño<strong> (medición)</strong>. Su tamaño dependerá del tamaño de las vistas que contiene. Así que se recorre la jerarquía de vistas de arriba hacia abajo para conocer el tamaño de cada<code> ViewGroup</code> o<code> View</code> que contiene. Se realiza llamando al método <code>onMeasure()</code> de cada vista.</li>
<li>Que indique su posición<strong> (diseño)</strong>.<strong> </strong>De nuevo se realiza otro recorrido preguntando a las vistas que contiene qué posición ocupan en base al tamaño que hayan establecido en el primer paso. Se realiza llamando al método<code> onLayout()</code> de cada vista.</li>
<li>Que se dibuje<strong> (dibujo)</strong>. Finalmente se realiza un último recorrido de forma que por cada vista se crea un objeto <code>Canvas</code> que se encarga de dibujar el componente según su tamaño y posición. Se realiza llamando al método <code>onDraw()</code> de cada vista.</li>
</ol>
<p>Cuando se concluyen las tres fases se muestra la interfaz al usuario.</p>
<p style="text-align: center;" class="destacado"><strong>Si se anidan muchas vistas o se crea una interfaz compleja se necesitará más tiempo y recursos de cómputo para dibujar la interfaz.</strong></p>
<div class="elemento_derecha">
<div class="elemento_centrado">
<div class="exe-figure exe-image position-center license-CC0" style="width: 225px;">
<div class="figcaption header"><img src="Legacy.png" width="225" height="257" alt="Listado de Layout que están en desuso y se muestran en la sección Legacy: GridLayout, ListView, TabHost, RelativeLayout, GridView" title="Layout en desuso" style="font-size: 1em;" /></div>
<div class="elemento_centrado credenciales">Captura del <acronym title="Integrated Development Environment" lang="en">IDE</acronym> <span lang="en">Eclipse.</span> <a title="Acceder a la información sobre EPL en Wikipedia. (Se abre en una nueva ventana)" href="http://es.wikipedia.org/wiki/Eclipse_Public_License" target="_blank">Eclipse Public License</a></div>
</div>
</div>
</div>
<p><span style="font-size: 1em;">Según la forma de organizar los distintos objetos </span><code>View</code><span style="font-size: 1em;"> en la pantalla, utilizaremos un tipo de</span><strong><span lang="en" style="font-size: 1em;"> Layout</span></strong><span style="font-size: 1em;"> u otro. Algunos de los tipos de <strong>L</strong></span><strong><span lang="en" style="font-size: 1em;">ayout</span></strong><span style="font-size: 1em;"> más utilizados son:</span></p>
<ul class="lista_verificacion">
<li><code>FrameLayout</code>: todas las vistas se colocan en la esquina superior izquierda y ocupan todo el espacio de la pantalla.</li>
<li><code>LinearLayout</code>: las vistas se colocan una detrás de otra de forma vertical u horizontal.</li>
<li><code>TableLayout</code>: las vistas se colocan en celdas dentro de filas y columnas.</li>
<li><code>ScrollView</code>: automáticamente se visualiza una barra de desplazamiento si los objetos <code>View</code> no pueden verse en su totalidad en la pantalla.</li>
<li><code>ConstraintLayout</code>: las vistas se colocan mediante restricciones con respecto a otras vistas o bien con respecto al padre. Por tanto, su posicionamiento es relativo.</li>
</ul>
<p>Es posible que encuentres documentación de otros <strong><span lang="en">Layout</span></strong> que han quedado en desuso con la aparición de <code>ConstraintLayout</code>. En las actualizaciones de <span lang="en">Android Studio</span> estos <strong><span lang="en">Layout</span></strong> se han añadido a la sección <strong><span lang="en">Legacy</span></strong> del panel <strong><span lang="en">Palette</span></strong> en el <strong>Editor</strong> <strong>de diseño</strong> como muestra la imagen. </p>
<p><span style="font-size: 1em;">Todos los ficheros </span><acronym title="eXtender Markup Language." lang="en" style="font-size: 1em;">XML</acronym><span style="font-size: 1em;"> que definen los </span><span lang="en" style="font-size: 1em;">layouts</span><span style="font-size: 1em;"> que necesite nuestra aplicación </span><span lang="en" style="font-size: 1em;">Android</span><span style="font-size: 1em;"> se guardarán en el directorio </span><code>/res/layout/</code><span style="font-size: 1em;">.</span></p>
<p></p>
</div>
</div>
</article>
<article class="iDevice_wrapper VerdaderofalsofpdIdevice em_iDevice em_iDevice_autoevaluacionfpd" id="id363">
<div class="iDevice emphasis_autoevaluacionfpd" >
<header class="iDevice_header" style="background-image:url(icon_autoevaluacionfpd.gif)"><h1 class="iDeviceTitle">Autoevaluación</h1></header>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta363_50" class="block iDevice_content">

</div>
<section class="question">
<form name="true-false-form-0b363" action="#" class="activity-form">
<h1 class="js-sr-av">Pregunta 1</h1>
<div id="taquestion0b363" class="block iDevice_content">
<p><strong>Un <span lang="en">layout</span> sólo puede contener objetos de tipo <code>View</code>.</strong></p>
</div>
<p class="iDevice_answer js-required">
<label for="true0b363"><input type="radio" name="option0b363" id="true0b363" class="exe-radio-option exe-radio-option-0-2-0b363-truefalse" /> Verdadero</label> 
<label for="false0b363"><input type="radio" name="option0b363" id="false0b363" class="exe-radio-option exe-radio-option-1-2-0b363-truefalse" /> Falso</label>
</p>
</form>
<section id="s0b363" class="feedback js-feedback js-hidden">
<h1 class="js-sr-av">Retroalimentación</h1>
<p><strong id="s0b363-result" class="wrong">Falso</strong></p>
<p>La afirmación es falsa. Los <span lang="en">layouts</span> pueden contener además otros objetos de tipo <span lang="en">layout</span>.</p>
</section>
</section>
</div>
</div>
</div>
</article>
<article class="iDevice_wrapper ReflectionfpdIdevice em_iDevice em_iDevice_reflexionfpd" id="id364">
<div class="iDevice emphasis_reflexionfpd" >
<header class="iDevice_header" style="background-image:url(icon_reflexionfpd.png)"><h1 class="iDeviceTitle">Reflexiona</h1></header>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta364_119" class="block iDevice_content">
<p>Se quiere dibujar una interfaz con la jerarquía de vistas que muestra la imagen. ¿Cuántas veces se ejecutaría el método <code>onMeasure()</code>?</p>
<div class="elemento_centrado">
<div class="exe-figure exe-image position-center license-CC-BY" style="width: 474px;">
<div class="figcaption header"><img src="https://developer.android.com/images/viewgroup.png?hl=es-419" width="474" height="253" alt="Muestra una jerarquía de vistas. De WiewGroup cuelga otro ViewGroup, junto a otros dos cuadros con View. De este segundo ViewGroup, cuelgan tres cuadros con View.  " title="Jerarquía de vistas" style="font-size: 1em;" /></div>
<div class="figcaption"></div>
</div>
<div class="elemento_centrado credenciales"><a class="cc-by" title="CC by" href="http://creativecommons.org/licenses/by/3.0/deed.es" target="_blank"><span class="transparente">CC by</span></a> <a title="Google Inc. (Se abre en una nueva ventana)" href="http://developer.android.com/images/develop/resources.png" target="_blank">Google Inc.</a></div>
</div>
</div>
<form name="feedback-form-364" action="#" onsubmit="return false" class="feedback-form">
<div class="block iDevice_buttons feedback-button js-required">
<p><script type="text/javascript">var feedback364text = "Mostrar retroalimentación";</script><input type="button" name="toggle-feedback-364" value="Mostrar retroalimentación" class="feedbackbutton feedback-toggler" /></p>
</div>
<section id="feedback-364" class="feedback js-feedback js-hidden">
<h1 class="js-sr-av">Retroalimentación</h1>
<div id="ta364_120" class="block iDevice_content">
<p>Se llamaría al menos siete veces. Mínimo el número de elementos <code>View</code> o <code>ViewGroup</code> que tiene la interfaz.</p>
</div>
</section>
</form>
</div>
</div>
</div>
</article>
</section>
<div id="packageLicense" class="cc cc-by-nc-sa">
<p><span>Obra publicada con</span> <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">Licencia Creative Commons Reconocimiento No comercial Compartir igual 4.0</a></p>
</div>
</div>
<script type="text/javascript" src="_fpd_js.js"></script></body></html>